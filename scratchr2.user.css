/* ==UserStyle==
@name           Scratchr2
@namespace      github.com/mxmou
@version        1.4.0
@description    Makes the Scratchr2 site look more like Scratch 3.0
@author         Maximouse (https://scratch.mit.edu/users/Maximouse)
@homepageURL    https://github.com/mxmou/customize-scratch
@supportURL     https://github.com/mxmou/customize-scratch/issues
@updateURL      https://raw.githubusercontent.com/mxmou/customize-scratch/master/scratchr2.user.css
@license        MIT
@var            color text    "Text color"                   #575e75
@var            color primary "Primary color"                #4d97ff
@var            color active  "Highlight color"              #4280d7
@var            color bg      "Page background"              #fcfcfc
@var            color boxbg   "Box background"               #ffffff
@var            color boxhead "Box header/footer background" #f2f2f2
@preprocessor   stylus
==/UserStyle== */

@-moz-document regexp("https://scratch.mit.edu/.*")
    /* Customized colors for 3.0-styled pages */
    body
    h1, h2, h3, h4, h5
    p, .news li p
    .outer .sort-mode .select select
    .grid .thumbnail .thumbnail-info .thumbnail-title .thumbnail-creator a
    .thumbnail-column .thumbnail .thumbnail-info .thumbnail-title .thumbnail-creator a
    #footer, #donor
        color: text
    #view
    .outer #projectBox
    .tips-getting-started, .tips-activity-guides
        background: bg
    #navigation, #navigation .dropdown
        background: primary
    a, .news li h4
        color: primary
    a:hover, .news li:hover h4
        color: active
    .box .box-header, .gray-area, #footer, #donor
        background: boxhead
    .box, .box .box-content
    .grid .thumbnail
    .ttt-tile
    .about .body
    .messages-social-list
    .comment-text
    .comment .comment-body .comment-bubble
    .comment .comment-body .comment-bubble::before
        background: boxbg

@-moz-document regexp("https://scratch.mit.edu/discuss/.*"), url("https://scratch.mit.edu/mystuff/"), regexp("https://scratch.mit.edu/users/.*"), regexp("https://scratch.mit.edu/studios/.*"), regexp("https://scratch.mit.edu/accounts/.*"), url("https://scratch.mit.edu/statistics/"), url("https://scratch.mit.edu/403/"), url("https://scratch.mit.edu/404/"), url("https://scratch.mit.edu/500/")
    html
        font-family: "Helvetica Neue", Helvetica, Arial, sans-serif
    body
        margin: 0
    html, body, #pagewrapper
        background: bg
        color: text
        text-shadow: none
    h1, h2, h3, h4
        color: inherit
    a, input.link
        color: primary
        font-weight: bold
        text-decoration: none
    a:hover
    a:active
    a.black:hover
    a.black:active
    input.link:hover
    input.link:active
    input.link.black:hover
    input.link.black:active
        color: active
        text-decoration: none
    #content
        padding-top: 70px
    .container
        width: 942px
    textarea
        box-shadow: none
        border-radius: 8px
        border: 2px solid rgba(0, 0, 0, 0.2)
        resize: none
    input:focus
        box-shadow: 0 0 0 4px rgba(77, 151, 255, 0.25)
    textarea:focus
        border: 2px solid primary!important
        box-shadow: 0 0 0 4px rgba(77, 151, 255, 0.25)
    .button
    button
    .button:hover
    button:hover
    .button.grey
    button.grey
    .button[data-control=load-more]:hover
        border-radius: 4px
        border: none
        background: primary
        font-weight: bold
        color: white
        text-shadow: none
        cursor: pointer
    .button.dropdown.open
    .button.small.dropdown.open
    button.dropdown.open
    button.small.dropdown.open
        border-bottom-left-radius: 0
        border-bottom-right-radius: 0
    .button.grey:not([data-control=load-more])
    button.grey
    .button.grey:not([data-control=load-more]):hover
    button.grey:hover
        background: white
        color: primary
        border: 1px solid primary
    .button.grey:not([data-control=load-more]):hover, button.grey:hover
        color: active
        border-color: active
    .button.small, button.smal
        border-radius: 3px
    .dropdown span.dropdown-toggle:not(.black) span.caret
        width: 20px
        height: 20px
        margin-left: 8px
        border: none
        background: url(/images/dropdown.png) no-repeat center center
        background-size: 50%
        opacity: 1
    .box
        background: boxhead
        border-color: #d9d9d9
        box-shadow: none
    .box .box-content
        background: boxbg
        border-color: #d9d9d9
    .slider-carousel .thumb span.owner a
        color: primary
    #comments .comments li
        border-color: #d9d9d9
    #comments .comment .info .name a:hover
        color: primary
    #comments .comment .info .time
        color: #b3b3b3
    .dropdown .dropdown-menu
        color: text
        font-weight: normal
        top: 24px
        left: -1px
        border: 1px solid primary
        box-shadow: none
    #footer
        background-color: boxhead
        box-shadow: none
    #footer a
        font-weight: normal
    #footer ul.footer-col li h4
        color: text
    .controls.tooltip input:focus
    .control-group.tooltip input:focus
    .controls.tooltip textarea:focus
    .controls.tooltip .tooltip-target:focus
    .control-group.tooltip textarea:focus
    .control-group.tooltip .tooltip-target:focus
    .controls.tooltip.force input
    .control-group.tooltip.force input
    .controls.tooltip.force textarea
    .controls.tooltip.force .tooltip-target
    .control-group.tooltip.force textarea
    .control-group.tooltip.force .tooltip-target
        box-shadow: 0 0 0 4px rgba(77, 151, 255, 0.25)
    #topnav
        height: 50px
        box-shadow: none
    #topnav .innerwrap
        background: primary
        border-bottom: 1px solid rgba(0, 0, 0, 0.1)
        box-shadow: 0 0 3px rgba(0, 0, 0, 0.25)
        height: 50px
    #topnav .logo
        height: 50px
        margin-right: 6px
    #topnav .logo span
        background: url(/images/logo_sm.png) no-repeat center center
        background-size: 95%
        width: 81px
        height: 50px
        transition: all 0.15s ease
    #topnav .logo:hover span
        background-image: url(/images/logo_sm.png)
        background-size: 100%
    #topnav ul.site-nav
        height: 50px
    #topnav ul.site-nav li
    #topnav ul.site-nav li.last
        border: none
        line-height: 50px
    #topnav ul.site-nav li:hover
        background: rgba(0, 0, 0, 0.1)
    #topnav ul.site-nav li a
        height: 33px
        padding: 13px 15px 4px 15px
        font-size: 13.6px
        line-height: 24px
    #topnav form.search
        margin: 0 20px
    #topnav form.search input
        margin-bottom: 0
    #topnav form.search .glass
        background: url(/images/nav-search-glass.png) no-repeat center center
        background-size: 14px 14px
        width: 40px
        height: 40px
        border-right: none
        outline: none
        padding: 0
        margin-top: 5px
        opacity: 1
        cursor: pointer
        box-shadow: none
    #topnav form.search input[type=text]
        width: calc(100% - 50px)
        height: 40px
        margin-top: 5px
        padding: 0 10px 0 40px
        border-radius: 5px
        font-family: inherit
        font-size: 13.6px
        color: white
        background: rgba(0, 0, 0, 0.1)
        box-shadow: none
        transition: background-color 0.15s ease
    #topnav form.search input[type=text]:focus
        background-color: rgba(0, 0, 0, 0.2)
    #topnav form.search input[type=text]::placeholder
        color: rgba(255, 255, 255, 0.75)
    #topnav ul.account-nav
        margin-left: 0
        margin-bottom: 0
    #topnav ul.account-nav li
    #topnav ul.account-nav li.join-scratch
    #topnav ul.account-nav li:last-child
        border: none
    #topnav ul.account-nav .sign-in .popover
        background-color: primary
    #topnav ul.account-nav .sign-in .popover .arrow::after
        border-bottom-color: primary
    #topnav ul.account-nav.logged-in > li
        border-left: none
        line-height: inherit
    #topnav ul.account-nav.logged-in > li:hover
        background-color: rgba(0, 0, 0, 0.1)
    #topnav ul.account-nav .my-stuff .mystuff-icon
        background-image: url(/images/mystuff.png)
        background-size: 45%
        width: 30px
        height: 33px
        padding: 13px 10px 4px 10px
    #topnav ul.account-nav .messages .messages-icon
        background-image: url(/images/nav-notifications.png)
        background-size: 45%
        width: 30px
        height: 33px
        padding: 13px 10px 4px 10px
        position: relative
    #topnav ul.account-nav .my-stuff .mystuff-icon:hover
    #topnav ul.account-nav .messages .messages-icon:hover
        background-size: 50%
    #topnav ul.account-nav .messages .notificationsCount
        margin-top: 4px
        right: 4px
        padding: 0 4px
        min-width: 0
        height: auto
        background-color: #ffab1a
        font-size: 11.2px
        line-height: 16px
    #topnav ul.account-nav .logged-in-user
        height: 50px
    #topnav ul.account-nav .logged-in-user .user-icon
        border: none
        border-radius: 3px
        margin-right: 10px
        margin-top: 0
    #topnav ul.account-nav .logged-in-user .dropdown-toggle
        padding: 14px 15px 4px 15px
        height: 33px
        font-size: 13px
        line-height: 24px
    #topnav ul.account-nav .logged-in-user .dropdown-menu
        background-color: primary
        margin-top: 0
        top: 50px
        padding-top: 5px
        border-radius: 0 0 5px 5px
        border: 1px solid rgba(0, 0, 0, 0.1)
        min-width: 140px
        box-sizing: border-box
        background-clip: border-box
        width: 100%
        font-weight: bold
        box-shadow: none
    #topnav ul.account-nav ul.user-nav
        margin: 0
    #topnav ul.account-nav .logged-in-user.dropdown.open
        background-color: rgba(0, 0, 0, 0.1) !important
    #topnav ul.account-nav ul.user-nav li
        margin: 0.75em 0
    #topnav ul.account-nav ul.user-nav li:hover
        background: rgba(0, 0, 0, 0.1)
    #topnav ul.account-nav ul.user-nav li.logout.divider
        border-radius: 0
        border-top-color: rgba(0, 0, 0, 0.1)
        padding: 0
    #topnav li.logout.divider input
    #topnav li.logout.divider input:hover
        border-radius: 0
        background-color: transparent
        padding-left: 10px
        font-weight: inherit
        cursor: pointer
    .banner
        top: 50px

    /* Profile page */
    #profile-box .doing
        background: boxhead

    /* Error pages */
    #page-403, #page-404, #page-500
        border-radius: 0
        border: none
        background: transparent
    #page-500
        width: 100%
        min-height: 100vh
        background: #f8aa36
        color: white
    #page-404 .box-head, #page-500 .box-head
        display: none
    #page-403 .box-head
        border: none
        color: #f8aa36
        text-align: center
    #page-403 .box-content, #page-404 .box-content, #page-500 .box-content
        border: none
        background: transparent
    #page-404 .box-header, #page-500 .box-header
        background: transparent
    #page-404 .box-header h1
        color: #f8aa36
    #page-500 .box-header h1
    #page-500 p
    #page-500 a
        color: white
    #page-500 a:hover
        text-decoration: underline
    #page-500 img:last-child
        content: url("/images/logo_sm.png")

@-moz-document regexp("https://scratch.mit.edu/discuss/.*")
    /* Forums */
    #content
        width: 100%
        min-width: 942px
        padding-top: 50px
    .linkst, .linksb
    .blocktable
    .blockpost
    .block /* The "notice" at the pot */
    #reply
    .djangobb > .box:not(#brdheader):not(#brdfooter) /* The "edit post" box */
    .blockform /* Change your signature */
        width: 942px
        margin: auto
    #messages
        margin-bottom: 40px
    #brdheader
        margin-bottom: 40px
        padding-top: 20px
        padding-bottom: 8px
        border: none
        border-radius: 0
        background: #0fbd8c
    #brdheader .box-head
        width: 942px
        margin: auto
        padding: 0
        border: none
    #brdheader .box-head h2
        padding: 5px 0
        margin-bottom: 16px
        color: white
        font-size: 40px
        line-height: 1.7em
    #brdmenu
        width: 942px
        margin: auto
        padding: 0
        border: none
        background: transparent
    #brdmenu a
        color: white
    #brdmenu a:hover
        text-decoration: underline
    #brdfooter
        margin-top: 40px
        margin-bottom: 0
        border: none
    #brdfooter .box-content
        box-sizing: border-box
        width: 942px
        margin: auto
        padding-top: 20px
        padding-left: 4px
        padding-right: 4px
        background: transparent
    #brdfooter .box-content button
        margin: 0
    .blockpost div.box
        background-color: primary
        border-top-color: primary
    .blockpost .box-head
        border-top-color: primary
    .blockpost .box-head a:hover
        text-decoration: underline
    .postleft, .postfootleft
        background-color: boxhead
    .postright, .postfootright
        border-left-color: boxhead
    .djangobb th, .tc2, .tc3
        background: boxhead
    .topic_isread a
        font-weight: normal

@-moz-document regexp("https://scratch.mit.edu/discuss/topic/.*")
    #brdfooter .foot
        margin-top: 40px

@-moz-document url("https://scratch.mit.edu/mystuff/")
    /* My Stuff */
    #content
        padding-top: 50px
        width: 100%
        min-width: 942px
    #content > .cols
        width: 100%
        margin: 0
        position: relative
    #content > .cols > *
        width: 100%
        margin: 0
    #content > .cols > .col-4
        position: absolute
        top: 164px
        z-index: 1
    .v-tabs
        margin: 0
        margin-right: 0 !important
        border-radius: 0
        width: 100%
        border: none
        background: white
        box-shadow: 0 0 1px rgba(0, 0, 0, 0.25)
    .v-tabs ul
        display: flex
        justify-content: center
    .v-tabs li.first
        border-radius: 0
    .v-tabs li
        border: none
    .v-tabs li a
        color: text
    .v-tabs li.active, .v-tabs li.active:hover
        border-bottom: 3px solid #0fbd8c
        background: transparent
    .v-tabs li.active a
        color: text
        text-shadow: none
    .v-tabs li:hover
        border-bottom: 3px solid rgba(0, 0, 0, 0.2)
        background: transparent
    .v-tabs li:hover a
        color: text
    #sidebar li.sub-list a
        margin-left: 0
    .box-content#main-content
        padding-top: 42px
        background: bg
    .box
        position: relative
    #content > .cols > .col-12 > .box, .box .box-head
        border-radius: 0
        border: none
        background: primary
    .box .box-head
        width: 942px
        margin: auto
        padding: 20px 0
    .box .box-head h2
        padding: 5px 0
        color: white
        font-size: 40px
        line-height: 1.7em
    .box .box-head .buttons
        position: static
        margin-top: 20px
    .box .box-content
        position: static
    .action-bar
        position: absolute
        top: 20px
        right: calc((100vw - 942px) / 2)
    .box .box-content .action-bar .inner
        padding: 0
        border: none
        background: transparent
    .action-bar .inner .dropdown
    .action-bar .inner .dropdown:hover
        height: 46px
        border-color: rgba(0, 0, 0, 0.1)
        background-color: #fafafa
        color: text
        font-weight: normal
    .action-bar .inner .dropdown .dropdown-toggle
        display: block
        height: 100%
        margin: 0
        padding: 0 16px
        line-height: 46px
    .action-bar .inner .dropdown .dropdown-menu
        top: 44px
        border-color: inherit
        background-clip: border-box
    .box .box-content .media-list
        width: 942px
        margin: auto
    .media-list li
        border: none
    .media-list .media-item-content
        margin-bottom: 14px
        border-radius: 4px
        background: boxbg
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)
    .button[data-control=load-more]
        display: block
        position: static !important
        width: 942px
        margin: auto
        text-align: center

@-moz-document url("https://scratch.mit.edu/accounts/settings/"), url("https://scratch.mit.edu/accounts/password_change/"), url("https://scratch.mit.edu/accounts/email_change/")
    /* Account Settings */
    #pagewrapper
        position: relative
    #content > .cols
        position: static
        padding-top: 40px
    .box .box-head
        position: absolute
        top: 50px
        left: 0
        width: 100%
        padding: 0
        padding-top: 20px
        padding-bottom: 8px
        border-radius: 0
        background: primary
    .box .box-head h2
        width: 942px
        margin: auto
        margin-bottom: 16px
        padding: 5px 0
        color: white
        font-size: 40px
        line-height: 1.7em
    #content
        padding-top: 173px
    #content > .cols > .col-4
        margin: 0
        width: 30%
        float: right
    .v-tabs
        margin: 0 !important
        border-radius: 0
        border: none
        border-left: 1px solid #d9d9d9
        background: transparent
    .v-tabs ul
        padding-top: 16px
        padding-bottom: 16px
        padding-left: 20px
    .v-tabs li
    .v-tabs li.active
    .v-tabs li:hover
    .v-tabs li.active:hover
        margin: 12px 0
        border: none
        background: transparent
        font-size: 16px
        line-height: 24px
    .v-tabs li a
        padding: 0
        color: primary
    .v-tabs li:hover a
        color: active
    .v-tabs li.active a
        color: text
        text-shadow: none
    #content > .cols > .col-12
        margin: 0
        width: 60%
        float: left
    #content > .cols > .col-12 .box
    #main-content
        padding: 0
        border: none
        background: transparent

@-moz-document url("https://download.scratch.mit.edu/scratch2download/")
    html, body
        margin: 0
        background: bg
        color: text
    .box
        width: 100%
        border-radius: 0
        box-shadow: none
    .box .box-head
        display: none
    .box, .box .box-content
        border: none
        background: transparent
    .box .box-header
        background: primary
    .box .box-header h2
        width: 942px
        margin: auto
        padding-top: 25px
        padding-bottom: 29px
        color: white
        font-size: 40px
        line-height: 1.7em
    .box .box-content > :not(.box-header)
        width: 942px
        margin-left: auto
        margin-right: auto
    .lg-msg::before
        content: "Scratch 2.0 is outdated. The current version of Scratch, 3.0, can be downloaded from https://scratch.mit.edu/download."
        display: block
        margin-bottom: 20px
        font-weight: bold
    .columns
        display: flex
    .columns > *
        flex-grow: 1
        flex-basis: 0
        margin: 7px
        padding: 8px
        border-radius: 4px
        background: white
        box-shadow: 0 0 0 1px rgba(0, 0, 0, 0.1)
    .columns h3
        color: text
    a
        color: primary
        font-weight: bold
        text-decoration: none
    a:hover
        color: active
